webpackJsonp([6],{"/6L5":function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var n=e("wBam"),i=e("nWZU"),s=e("Mw9A"),l=s(n.a,i.a,!1,null,null,null);a.default=l.exports},5721:function(t,a,e){"use strict";var n=e("WUh2"),i=e("hDq5"),s=e("Mw9A"),l=s(n.a,i.a,!1,null,null,null);a.a=l.exports},"6atz":function(t,a,e){a=t.exports=e("BkJT")(!1),a.push([t.i,".mubanManage .btn-group{display:flex;align-items:center;flex-wrap:wrap}.mubanManage .btn-group button{margin:10px}.mubanManage .station-table .ivu-btn-primary{background:#7e57c2;border-color:#7e57c2}.mubanManage .stationPage{justify-content:flex-end;margin-top:5px}.mubanManage .add-muban-btn{display:flex;margin:5px 0}.demo-radio{margin-right:1rem}.avatarImg{width:100px;height:100px;position:relative;margin:auto;cursor:pointer}.avatarImg img{width:100%;height:100%;border:1px solid #ccc;margin:auto}.avatarImg span{position:absolute;bottom:0;text-align:center;width:100%;background-color:#9a00ec;opacity:.8;color:#fff}",""])},OAyX:function(t,a,e){var n=e("6atz");"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);e("8bSs")("03789012",n,!0)},WUh2:function(t,a,e){"use strict";a.a={data:function(){return{isOpen:this.open,state:this.data,radiosArr:"string"==typeof this.data.radiosArr?JSON.parse(this.data.radiosArr):this.data.radiosArr,inputArr:"string"==typeof this.data.inputArr?JSON.parse(this.data.inputArr):this.data.inputArr,fun:this.cb}},props:["open","data","cb"],methods:{inputChange:function(){this.$emit("onInputChange",this.state)}}}},Zbun:function(t,a,e){var n=e("iANj"),i=n.JSON||(n.JSON={stringify:JSON.stringify});t.exports=function(t){return i.stringify.apply(i,arguments)}},hDq5:function(t,a,e){"use strict";var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"dialog"},[e("div",{staticClass:"btn-group"},[e("mu-dialog",{attrs:{open:t.isOpen.isAdd,title:"添加"+t.state.name},on:{close:function(a){t.isOpen.isAdd=!1}}},[t._l(t.inputArr,function(a){return e("mu-text-field",{key:a.value,attrs:{label:a.name,labelFloat:"",fullWidth:""},on:{input:t.inputChange},model:{value:t.state[a.value],callback:function(e){t.$set(t.state,a.value,e)},expression:"state[item.value]"}})}),t._v(" "),e("div",t._l(t.radiosArr,function(a){return e("mu-radio",{key:a.value,staticClass:"demo-radio",attrs:{label:a.name,name:"type",nativeValue:a.value,uncheckIcon:"favorite_border",checkedIcon:"favorite"},on:{input:t.inputChange},model:{value:t.state.type,callback:function(a){t.$set(t.state,"type",a)},expression:"state.type"}})})),t._v(" "),e("mu-flat-button",{staticClass:"demo-flat-button",attrs:{label:"选择文件"}},[e("input",{staticClass:"file-button",attrs:{type:"file"}})]),t._v(" "),e("mu-flat-button",{attrs:{slot:"actions",primary:"",label:"取消"},on:{click:function(a){t.isOpen.isAdd=!1}},slot:"actions"}),t._v(" "),e("mu-flat-button",{attrs:{slot:"actions",primary:"",label:"确定"},on:{click:t.fun.addClick},slot:"actions"})],2),t._v(" "),e("mu-dialog",{attrs:{open:t.isOpen.isEdit,title:"编辑"+t.state.name},on:{close:function(a){t.isOpen.isEdit=!1}}},[t._l(t.inputArr,function(a){return e("mu-text-field",{key:a.value,attrs:{label:a.name,labelFloat:"",fullWidth:""},on:{input:t.inputChange},model:{value:t.state[a.value],callback:function(e){t.$set(t.state,a.value,e)},expression:"state[item.value]"}})}),t._v(" "),e("div",t._l(t.radiosArr,function(a){return e("mu-radio",{key:a.value,staticClass:"demo-radio",attrs:{label:a.name,name:"type",nativeValue:a.value,uncheckIcon:"favorite_border",checkedIcon:"favorite"},on:{input:t.inputChange},model:{value:t.state.type,callback:function(a){t.$set(t.state,"type",a)},expression:"state.type"}})})),t._v(" "),e("mu-flat-button",{attrs:{slot:"actions",primary:"",label:"取消"},on:{click:function(a){t.isOpen.isEdit=!1}},slot:"actions"}),t._v(" "),e("mu-flat-button",{attrs:{slot:"actions",primary:"",label:"确定"},on:{click:t.fun.editClick},slot:"actions"})],2),t._v(" "),e("mu-dialog",{attrs:{open:t.isOpen.isRemove,title:"删除"+t.state.name},on:{close:function(a){t.isOpen.isRemove=!1}}},[t._v("\n            一旦删除"+t._s(t.state.name)+"将不能找回，是否删除 "),e("b",[t._v(t._s(t.state.zhName))]),t._v(" "+t._s(t.state.name)+"？\n            "),e("mu-flat-button",{attrs:{slot:"actions",primary:"",label:"取消"},on:{click:function(a){t.isOpen.isRemove=!1}},slot:"actions"}),t._v(" "),e("mu-flat-button",{attrs:{slot:"actions",primary:"",label:"确定"},on:{click:t.fun.removeClick},slot:"actions"})],1)],1)])},i=[],s={render:n,staticRenderFns:i};a.a=s},mvHQ:function(t,a,e){t.exports={default:e("Zbun"),__esModule:!0}},nWZU:function(t,a,e){"use strict";var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"mubanManage",staticStyle:{margin:"10px"}},[e("dia-log",{attrs:{open:t.open,data:t.state,cb:t.fun},on:{onInputChange:t.onInputChange}}),t._v(" "),e("mu-dialog",{attrs:{open:t.openEditMuban,title:"Dialog"},on:{close:function(a){t.openEditMuban=!1}}},[e("mu-text-field",{attrs:{label:"模板标题",labelFloat:"",fullWidth:""},model:{value:t.edit.mubanTitle,callback:function(a){t.$set(t.edit,"mubanTitle",a)},expression:"edit.mubanTitle"}}),t._v(" "),e("mu-text-field",{attrs:{label:"模板介绍",labelFloat:"",fullWidth:""},model:{value:t.edit.mubanInfo,callback:function(a){t.$set(t.edit,"mubanInfo",a)},expression:"edit.mubanInfo"}}),t._v(" "),e("mu-text-field",{attrs:{label:"访问地址",labelFloat:"",fullWidth:""},model:{value:t.edit.mubanLinkurl,callback:function(a){t.$set(t.edit,"mubanLinkurl",a)},expression:"edit.mubanLinkurl"}}),t._v(" "),e("mu-radio",{attrs:{label:"个人",name:"type",nativeValue:"1"},model:{value:t.edit.mubanType,callback:function(a){t.$set(t.edit,"mubanType",a)},expression:"edit.mubanType"}}),t._v(" "),e("mu-radio",{attrs:{label:"企业",name:"type",nativeValue:"2"},model:{value:t.edit.mubanType,callback:function(a){t.$set(t.edit,"mubanType",a)},expression:"edit.mubanType"}}),t._v(" "),e("mu-radio",{attrs:{label:"其他",name:"type",nativeValue:"3"},model:{value:t.edit.mubanType,callback:function(a){t.$set(t.edit,"mubanType",a)},expression:"edit.mubanType"}}),t._v(" "),e("mu-flat-button",{attrs:{slot:"actions",primary:"",label:"取消"},on:{click:function(a){t.openEditMuban=!1}},slot:"actions"}),t._v(" "),e("mu-flat-button",{attrs:{slot:"actions",primary:"",label:"确定"},on:{click:t.editMubanClick},slot:"actions"})],1),t._v(" "),e("mu-dialog",{attrs:{open:t.openAddMuban,title:"Dialog"},on:{close:function(a){t.openAddMuban=!1}}},[e("mu-text-field",{attrs:{label:"模板名字",labelFloat:"",fullWidth:""},model:{value:t.add.mubanTitle,callback:function(a){t.$set(t.add,"mubanTitle",a)},expression:"add.mubanTitle"}}),t._v(" "),e("mu-text-field",{attrs:{label:"模板介绍",labelFloat:"",fullWidth:""},model:{value:t.add.mubanInfo,callback:function(a){t.$set(t.add,"mubanInfo",a)},expression:"add.mubanInfo"}}),t._v(" "),e("mu-text-field",{attrs:{label:"模板前缀",labelFloat:"",fullWidth:""},model:{value:t.add.mubanLinkurl,callback:function(a){t.$set(t.add,"mubanLinkurl",a)},expression:"add.mubanLinkurl"}}),t._v(" "),e("mu-radio",{attrs:{label:"个人",name:"type",nativeValue:"1"},model:{value:t.add.mubanType,callback:function(a){t.$set(t.add,"mubanType",a)},expression:"add.mubanType"}}),t._v(" "),e("mu-radio",{attrs:{label:"企业",name:"type",nativeValue:"2"},model:{value:t.add.mubanType,callback:function(a){t.$set(t.add,"mubanType",a)},expression:"add.mubanType"}}),t._v(" "),e("mu-radio",{attrs:{label:"其他",name:"type",nativeValue:"3"},model:{value:t.add.mubanType,callback:function(a){t.$set(t.add,"mubanType",a)},expression:"add.mubanType"}}),t._v(" "),e("input",{ref:"avatarInputAdd",attrs:{type:"file"}}),t._v(" "),e("mu-flat-button",{attrs:{slot:"actions",primary:"",label:"取消"},on:{click:function(a){t.openAddMuban=!1}},slot:"actions"}),t._v(" "),e("mu-flat-button",{attrs:{slot:"actions",primary:"",label:"确定"},on:{click:t.addMubanClick},slot:"actions"})],1),t._v(" "),e("mu-dialog",{attrs:{open:t.openEditPic,title:"Dialog"},on:{close:function(a){t.openEditPic=!1}}},[e("div",[e("div",{staticClass:"avatarImg",on:{mouseover:function(a){t.avatarDisable=!0},mouseout:function(a){t.avatarDisable=!1},click:t.setAvatar}},[e("img",{staticClass:"avatarImg",attrs:{src:t.avatar}}),t._v(" "),e("span",{directives:[{name:"show",rawName:"v-show",value:t.avatarDisable,expression:"avatarDisable"}]},[t._v("更改")])])]),t._v(" "),e("input",{ref:"avatarInput",attrs:{type:"file",hidden:""},on:{change:function(a){t.changeImage(a)}}}),t._v(" "),e("mu-flat-button",{attrs:{slot:"actions",primary:"",label:"取消"},on:{click:function(a){t.openEditPic=!1}},slot:"actions"}),t._v(" "),e("mu-flat-button",{attrs:{slot:"actions",primary:"",label:"确定"},on:{click:t.editPicClick},slot:"actions"})],1),t._v(" "),e("mu-dialog",{attrs:{open:t.openState,title:"Dialog"},on:{close:function(a){t.openState=!1}}},[e("mu-radio",{attrs:{label:"开启",name:"group",nativeValue:"1"},model:{value:t.mubanState,callback:function(a){t.mubanState=a},expression:"mubanState"}}),t._v(" "),e("mu-radio",{attrs:{label:"关闭",name:"group",nativeValue:"2"},model:{value:t.mubanState,callback:function(a){t.mubanState=a},expression:"mubanState"}}),t._v(" "),e("mu-flat-button",{attrs:{slot:"actions",primary:"",label:"取消"},on:{click:function(a){t.openState=!1}},slot:"actions"}),t._v(" "),e("mu-flat-button",{attrs:{slot:"actions",primary:"",label:"确定"},on:{click:t.editStateClick},slot:"actions"})],1),t._v(" "),e("div",{staticClass:"add-muban-btn"},[e("mu-raised-button",{attrs:{label:"添加"+t.state.name,primary:""},on:{click:t.addMuban}})],1),t._v(" "),e("Table",{staticClass:"station-table",attrs:{border:"",columns:t.columns,data:t.mubanList.content}}),t._v(" "),e("mu-pagination",{staticClass:"stationPage",attrs:{total:t.mubanList.totalElements,current:t.mubanList.number+1},on:{pageChange:t.pageChange}})],1)},i=[],s={render:n,staticRenderFns:i};a.a=s},wBam:function(t,a,e){"use strict";var n=e("mvHQ"),i=e.n(n),s=(e("7+uW"),e("mtWM")),l=(e.n(s),e("OAyX")),o=(e.n(l),e("5721")),u=e("NYxO");e("Umb+");a.a={data:function(){var t=this;return{open:{isAdd:!1,isEdit:!1,isRemove:!1},fun:{addClick:this.addMubanClick,editClick:this.editMubanClick,removeClick:this.removeMubanClick},state:{title:"",info:"",linkUrlstr:"",type:"1",id:"",name:"模板",radiosArr:i()([{name:"个人",value:"1"},{name:"企业",value:"2"},{name:"销售",value:"3"}]),inputArr:i()([{name:"模板标题",value:"title"},{name:"模板介绍",value:"info"},{name:"访问地址",value:"url"}])},openEditMuban:!1,openEditPic:!1,openState:!1,openAddMuban:!1,mubanId:"",mubanState:"",add:{mubanTitle:"",mubanInfo:"",mubanLinkurl:"",mubanType:""},edit:{mubanId:"",mubanTitle:"",mubanInfo:"",mubanLinkurl:"",mubanType:""},avatar:"/static/logo.png",uploadData:{id:"2"},avatarDisable:!1,columns:[{title:"创建时间",key:"createTime"},{title:"模板标题",key:"title"},{title:"模板介绍",key:"info"},{title:"链接",key:"linkUrlstr"},{title:"类型",key:"type"},{title:"开启状态",key:"status"},{title:"操作",key:"action",align:"center",width:300,render:function(a,e){return a("div",[a("Button",{props:{type:"primary",size:"small"},style:{marginRight:"5px"},on:{click:function(){t.editMuban(e.row)}}},"修改"),a("Button",{props:{type:"primary",size:"small"},style:{marginRight:"5px"},on:{click:function(){t.editPic(e.row)}}},"修改图片"),a("Button",{props:{type:"primary",size:"small"},style:{marginRight:"5px"},on:{click:function(){t.editState(e.row)}}},"修改状态"),a("Button",{props:{type:"error",size:"small"},on:{click:function(){t.removeMuban(e.row)}}},"删除")])}}]}},computed:e.i(u.b)({mubanList:"mubanList"}),created:function(){this.getMubanList(0,10)},methods:{onInputChange:function(t){this.state=t},getMubanList:function(t,a){this.$store.dispatch("getMubanList",{page:t,size:a})},addMuban:function(){this.openAddMuban=!0},addMubanClick:function(){var t=this,a=new FormData;a.append("title",this.add.mubanTitle),a.append("info",this.add.mubanInfo),a.append("linkurl",this.add.mubanLinkurl),a.append("type",this.add.mubanType),a.append("file",this.$refs.avatarInputAdd.files[0]),this.$store.dispatch("addMubanClick",a).then(function(a){t.openAddMuban=!1,a.success?(t.$Message.success("添加成功"),t.getMubanList(t.mubanList.number,10)):t.$Message.error("添加失败")})},editMuban:function(t){this.openEditMuban=!0,this.edit.mubanTitle=t.title,this.edit.mubanInfo=t.info,this.edit.mubanLinkurl=t.linkurl,this.edit.mubanType=t.type+"",this.edit.mubanId=t.id},editMubanClick:function(){var t=this;this.$store.dispatch("editMubanClick",this.edit).then(function(a){t.openEditMuban=!1,a.success?(t.$Message.success("修改成功"),t.getMubanList(t.mubanList.number,10)):t.$Message.error("修改失败")})},editPic:function(t){console.log(t),this.mubanId=t.id,this.openEditPic=!0},setAvatar:function(){this.$refs.avatarInput.click()},changeImage:function(t){var a=t.target.files[0],e=new FileReader,n=this;e.readAsDataURL(a),e.onload=function(t){n.avatar=this.result}},editPicClick:function(){var t=this;if(0!==this.$refs.avatarInput.files.length){var a=new FormData;a.append("id",this.mubanId),a.append("file",this.$refs.avatarInput.files[0]),this.$store.dispatch("uploadMubanPic",a).then(function(a){t.openEditPic=!1,a.success?t.$Message.success("上传成功"):t.$Message.error("上传失败")})}},editState:function(t){this.mubanId=t.id,this.mubanState=t.status+"",this.openState=!0},editStateClick:function(){var t=this;this.$store.dispatch("editStateClick",{id:this.mubanId,status:this.mubanState}).then(function(a){t.openState=!1,a.success?(t.$Message.success("修改成功"),t.getMubanList(t.mubanList.number,10)):t.$Message.error("修改失败")})},removeMuban:function(t){this.state.id=t.id,this.state.zhName=t.zhName,this.open.isRemove=!0},removeMubanClick:function(){var t=this;this.$store.dispatch("removeMubanClick",this.state).then(function(a){t.open.isRemove=!1,a.success?(t.$Message.success("删除成功"),t.getMubanList(t.mubanList.number,10)):t.$Messsage.error("删除失败")})},pageChange:function(t){this.getMubanList(t-1,10)}},components:{"dia-log":o.a}}}});